<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="beluData.js"></script>
        <script>
            function xx(val) {
                var x = "00" + val;
                return (x.substr(x.length - 2));
            }
            function startTimer() {
                console.log('configure timer...');
                var x = setInterval(function() {
                    var now = new Date();
                    // Datum
                    var day = now.getDate();
                    var month = now.getMonth() + 1;
                    var year = now.getFullYear();
                    // Zeit
                    var hours = now.getHours();
                    var minutes = now.getMinutes();
                    // Ausgabe
                    document.getElementById("datum").innerHTML = xx(day) + "." + xx(month) + "." + year;
                    document.getElementById("zeit").innerHTML = xx(hours) + ":" + xx(minutes);
                    // console.log('date and time updated');
                }, 1000);
            }
            function publishWeather() {
                console.log('publish weather...');
                document.getElementById("temp").innerHTML = weatherTemp;
                document.getElementById("cond-text").innerHTML = weatherCond;
                document.getElementById("icon").style.backgroundImage = 'url("http://vortex.accuweather.com/adc2010/images/slate/icons/' + weatherIcon + '.svg")';
            }
        </script>
        <style>
            body {
                color: lightgrey;
                background-color: gray;
                margin: 0px auto;
                padding: 0px;
                font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
                font-size: 40px;
            }
            #dashboard {
                position: absolute;
                width: 1024px;
                height: 767;
                background-color: black;
            }
            #header {
            }
            #datum {
                width: 256px;
                height: 100;
                line-height: 100px;
                line-height: 100px;
                text-align: left;
                background-color: rgb(65, 65, 65);
                float: left;
            }
            #wetter {
                width: 512px;
                height: 100px;
                text-align: center;
                background-color: rgb(84, 84, 84);
                float: left;
            }
            #icon {
                width: 100px;
                height: 100px;
                float: left;
                background-image: url("http://vortex.accuweather.com/adc2010/images/slate/icons/40.svg");
                background-repeat: no-repeat;
                background-size: cover;
                background-color: rgb(84, 84, 84);
            }
            #temp-panel {
                width: 100px;
                height: 100px;
                line-height: 100px;
                float: left;
                background-color: rgb(65, 65, 65);
                margin: auto;
                vertical-align: middle;
            }
            #temp-small {
                font-size: 75%;
            }
            #cond-panel {
                height: 100px;
                display: table;
                background-color: rgb(84, 84, 84);
            }
            #cond-text {
                font-size: 75%;
                display: table-cell;
                vertical-align: middle;
                background-color: rgb(59, 58, 58);
            }
            #zeit {
                width: 256px;
                height: 100;
                line-height: 100px;
                text-align: right;
                background-color: rgb(65, 65, 65);
                float: left;
            }
            #content-panel {
                clear: both;
            }
            #content-left {
                width: 448px;
                height: 667px;
                float: left;
                background-color: rgb(58, 58, 58);
            }
            #content-right {
                width: 576px;
                height: 640px;
                float: left;
                background-color: darkslategrey;
                display: none;
            }
        </style>
    </head>
    <body>
        <div id="dashboard">
            <div id="header">
                <div id="datum">13. Jul 2018</div>
                <div id="wetter">
                    <div id="temp-panel"><span id="temp">29</span><span id="temp-small">&deg;C</span></div>
                    <div id="icon"></div>
                    <div id="cond-panel"><div id="cond-text">Windig, nachts einige Schauer</div></div>
                </div>
                <div id="zeit">07:35</div>
            </div>
            <div id="content-panel">
                <div id="content-left">
                    <table>
                        <tr>
                            <th>bbe</th>
                            <th>bbi</th>
                            <th>bma</th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>                    
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>                    
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>                    
                    </table>
                </div>
                <div id="content-right">
                    Bild
                </div>
            </div>
        </div>
        <script>
            window.onload = function () {
                console.log('page loaded');
                startTimer();
                publishWeather();
            }
        </script>
    </body>
</html>
